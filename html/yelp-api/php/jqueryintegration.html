<html>
    <style>
        
        .action
        {
            background-color: #C0DCFF;
            position: fixed;
            top: 100px;
            left: 200px;
            height: 100px;
            width: 200px;
        }

        
        .reaction
        {
            background-color: #F9D8CB;
            position: fixed;
            top: 300px;
            left: 200px;
            height: 100px;
            width: 200px;
        }
        
        .inputbox
        {
            background-color: #BEF1CB;
            position: fixed;
            top: 200px;
            left: 400px;
            height: 100px;
            width: 200px;
        }
        
        .restaurant {
            background-color: #1DD300;
        
        }
        
        .searchbutton{
            background-color: #1DD300;
            position: fixed;
            top: 220px;
            left: 200px;
            height: 40px;
            width: 100px;
        }        
        
        .sec {
            background-color: #1DD300;
            position: fixed;
            top: 220px;
            left: 200px;
            height: 40px;
            width: 100px;
        }
        
        .shadow {
            -webkit-box-shadow: 0px 0px 10px #222; /* Saf3-4, iOS 4.0.2 - 4.2, Android 2.3+ */
            -moz-box-shadow: 0px 0px 10px #222; /* FF3.5 - 3.6 */
            box-shadow: 0px 0px 10px #222; /* Opera 10.5, IE9, FF4+, Chrome 6+, iOS 5 */
        }
        
        .yellowshadow {
            -webkit-box-shadow: 0px 0px 10px #DFEC02; /* Saf3-4, iOS 4.0.2 - 4.2, Android 2.3+ */
            -moz-box-shadow: 0px 0px 10px #DFEC02; /* FF3.5 - 3.6 */
            box-shadow: 0px 0px 10px #DFEC02; /* Opera 10.5, IE9, FF4+, Chrome 6+, iOS 5 */
        }
        
        
    </style>


    <head>
        <title>JQuery</title>
    </head>

    <body>
        
        <h1 id="theimportantthing" class="aheader">But what is an example really?</h1>
        <h2 class="aheader">Another heading...</h2>
        <h3 class="aheader">But that doesn't make sense</h3>

        <ul id="restlist">
            <li class="restaurant">Rest1</li>
            <li class="restaurant">Rest2</li>
            <li class="restaurant">Rest3</li>
        </ul>

         <div class="action">
            When we click on this guy
        </div>
        <div class="nothing">
            It'll do stuff to this guy
        </div>


        <div class="inputbox">
            <label>Ah look over yonder it's a text box</label>
            <input type="text" id="textguy" />
            <p id="placetoputit">
            
            </p>
        </div>
        

        <div id="searchstuff">
            <div class="searchtext"><label>Search:</label><textarea id = "searchtxt" cols="20" rows="1"></textarea></div>
			<button id="search">Search</button>
            
            <div class="sec">
                <!-- <img src="plus-sm.png" alt="plus" id="plus"/><img src="X.jpg" alt="x" id="x"/> -->
                <button id="add">Add To List</button> <button id="back">Back</button>
            </div>
            <p> Yelp Data should print under here </p>
            <p id = "yelpdata">
                <p id="yelpname"></p>
                <p id="yelprating"></p>
                <p id="yelpratingimg"></p>
                <p id="yelpsnippet"></p>           
            </p>
            <br>
            <br>
            <p id = "showthis">show this</p>
            <br><br>
            <p id = "showthis2">show this 2</p>
            <br><br>
            <p id = "test1">test1</p>
            <br><br>
            <p id = "test2">test2</p>
            <br><br>
            <p id = "test3">test3</p>
            <br><br>
            <p id = "test4">test4</p>
            <br><br>
            <p id = "test5">test5</p>
        </div>
    </body>
</html>


<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script type="text/javascript" src="./json2.js"></script>
<script type="text/javascript">

    //Initialize the page (This function runs on pageload)
    $(function () {
        $('.sec').toggle();
    });
    
    $(document).ready(function() {
        $('#search').click(function () {
                $('.sec').toggle();
                $('#search').toggle();
                //var searchTxt = $.get("searchRest.php", searchTxt);
                
               $('#test1').html("test1-go");
               var searchTxt =  $("#searchstuff").find("textarea").val();
                $('#test2').html("test2-go");
                //var toSend = {"search" : searchTxt,};
                $('#test3').html("test3-go");
                //var toSendString = JSON.stringify(data);
                getYelp(searchTxt);
                $('#test4').html("test4-go");
                
        });
    });

    function sendValue(str) {
        $.post("test-ajax.php", // ajax file
        { sendValue: str }, // create object 
        function(data){ //function called when server returns value
            $('#showthis').html(data.returnValue);
        },
        "json" // how data is formatted in return from server
        );
    }
        
    $('#add').click(function () {
                $('.sec').toggle();
                $('#search').toggle();
                // info in box to list
                var yelpdata = $('#yelpdata').val(); // yelp data info -- name and id?                
                //create a container for the new comment
                var li = $("<li>").addClass("restaurant").appendTo("#restlist");            
                //add author name and comment to container
                $("<li>").text(yelpdata).appendTo(li);
                //empty inputs
                $("#searchstuff").find("textarea").val("");
                $('#yelpdata').html("");
    });
    // get data from #yelpdata field
    function getYelp(str) {
        $.post("searchRest.php", //ajax file
        { sendValue: str },
        function(data) {
            $('#showthis').html("hmmm");
            $('#yelpname').html(data.returnValueName + " " + data.returnValueId);
            $('#yelprating').html(data.returnValueRating);
            $('#yelpratingimg').html("<img src=" + data.returnValueRatingImg + " alt='rating'>");
            $('#yelpsnippet').html(data.returnValueSnippet + "<br>");
        },
        "json"
        );
    }
    
    $('#back').click(function () {
                $('.sec').toggle();
                $('#search').toggle();
                $("#searchstuff").find("textarea").val("");
                $('#yelpdata').html("");
    });
</script>
